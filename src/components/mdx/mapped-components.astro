---
import type { Props } from 'astro';
import type { ArrayMember } from '~/types';
import H1 from './H1.astro';
import H2 from './H2.astro';
import H3 from './H3.astro';
import H4 from './H4.astro';
import H5 from './H5.astro';
import P from './P.astro';
import A from './A.astro';
import Pre from './Pre.astro';
import Code from './Code.astro';
import Table from './Table.astro';
import TableHead from './TableHead.astro';
import TableRow from './TableRow.astro';
import TableHeader from './TableHeader.astro';
import TableBody from './TableBody.astro';
import TableCell from './TableCell.astro';
import Ul from './Ul.astro';

const components = [
  'h1',
  'h2',
  'h3',
  'h4',
  'h5',
  'p',
  'pre',
  'a',
  'table',
  'thead',
  'tr',
  'th',
  'tbody',
  'td',
  'code',
  'ul',
] as const;

export type MarkdownComponents = ArrayMember<typeof components>;

export const mapComponents = () => {
  const components: Record<MarkdownComponents, (_props: Props) => any> = {
    h1: H1,
    h2: H2,
    h3: H3,
    h4: H4,
    h5: H5,
    p: P,
    a: A,
    pre: Pre,
    table: Table,
    thead: TableHead,
    tr: TableRow,
    th: TableHeader,
    tbody: TableBody,
    td: TableCell,
    code: Code,
    ul: Ul,
  };

  return components;
};
---
